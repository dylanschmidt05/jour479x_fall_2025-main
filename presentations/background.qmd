---
title: "background"
format: html
---

I have decided to pursue my question about whether there is a relationship between the number of international players a men's soccer team had on its roster last year and their eventual win total.

The data doesn't already exist in a data set form but I can easily dig through each team's roster last year and count the number of international players they had. The number of wins is just listed on the team's website. I was planning to just collect data from last year, but if you think more data is better, I can expand it to the last two or three years. While you suggested I should just conduct the analysis on P4 teams, I think it would be better to do Division I as a whole given that some of the men's soccer powerhouses are outside those conferences. Teams like Marshall and Vermont were part of the national championship game last year. A lot of the best teams in the country this year are non Power Four too.

```{r}
library(tidyverse)
library(scales)
```

```{r}
international_players_2024 <- read_csv("https://raw.githubusercontent.com/Sports-Roster-Data/mens-soccer/refs/heads/main/combined_rosters_2024.csv")
```
## Not sure how to filter out the players born in the United States but I would want to do that in this code block
```{r}
division_one_international_players_2024 <- international_players_2024 |> 
  filter(division == "I") 
```

## These totals will be much smaller once American-born players are factored out
```{r}
team_total <- division_one_international_players_2024 |> 
  summarise(
    total = n()
  ) |> 
```

## Top 5 teams (will look entirelty different later on)
```{r}
top_seven <- team_total |> 
    arrange(desc(total)) |> 
    top_n(5)
```


```{r}
ggplot() + 
  geom_bar(
    data=top_seven, 
    aes(
      x=reorder(team, -total), 
      weight=total
    )
)
```

The biggest challenge I will have is filtering through all the data to find the players that weren't born in the United States and exclude them from the list. Once I have a data set of only international players, I can easily group them by team and figure out what schools had the most international players last year. I'll need to find a way to add in that team's win total into the team_total data set to actually answer my question of whether more international players equates to more team wins.
